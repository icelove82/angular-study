<p-table
  [value]="students"
  [(contextMenuSelection)]="selectedStudent"
  [contextMenu]="cm"
>
  <ng-template pTemplate="header">
    <tr>
      <th>名字</th>
      <th>性别</th>
      <th>年龄</th>
      <th>成年与否</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-student let-rowData>
    <tr [pContextMenuRow]="rowData" (dblclick)="onDbclick(student)">
      <td>{{ student.name }}</td>
      <td>{{ student.gender }}</td>
      <td>{{ student.age }}</td>
      <td>{{ student.adult }}</td>
    </tr>
  </ng-template>
</p-table>

<p-contextMenu #cm [model]="items"></p-contextMenu>

<p-dialog
  [header]="title"
  [(visible)]="displayDialog"
  [focusOnShow]="false"
  [responsive]="true"
  showEffect="fade"
  [modal]="true"
  [style]="{ width: '300px' }"
>
  <div class="ui-g">
    <div class="ui-g-4">
      <label for="name">名字</label>
    </div>
    <div class="ui-g-8">
      <input pInputText id="name" [(ngModel)]="targetStudent.name" autofocus />
    </div>

    <div class="ui-g-4">
      <label for="age">年龄</label>
    </div>
    <div class="ui-g-8">
      <input pInputText id="age" [(ngModel)]="targetStudent.age" />
    </div>

    <div class="ui-g-4">
      <label for="gender">性别</label>
    </div>
    <div class="ui-g-8" style="height: 100px;">
      <p-dropdown
        id="searchGender"
        optionLabel="name"
        [options]="genderList"
        [(ngModel)]="targetGender"
      ></p-dropdown>
    </div>
  </div>

  <p-footer>
    <p-button label="保存" (onClick)="onClickSave()"></p-button>

    <p-button label="删除" (onClick)="onClickDelete()"></p-button>
  </p-footer>
</p-dialog>
